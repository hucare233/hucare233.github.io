---
sort: 2
---

# 电机故障判断

## 主要针对队里使用的大疆电机、maxon、elmo等说明

```note
 This is a note
机构组调试电机的时候一定不要用手模电机，特别是电机高速旋转的时候（有时候不要过分相信自己的程序，注意安全），第一次调机构的时候一定要找人帮忙按开关防止意外。另外就是不要站在机构的运动空间以内，比如四足机器人腿的运动范围、旋转机械臂的旋转范围、发射机构的前方等。另外需要注意用电安全，防止开关、板子短路（队里的电机放点能力特别强，一定要小心）。板子固定在铝架上一定要注意绝缘保护。对不确定的电源线使用前事先打表确认

```

## (一)大疆系列电机

>大疆电机采用can通信的方式进行控制，供给24V直流电并发送can报文即可控制。大疆电调一般都有故障监测功能（2006在堵转会发出bbb的响声），可以根据提示判断出大部分的故障。
>
>1.`电机无反应，闻到一股难闻的气味，同时电调闪烁红灯`。
这个说明电机很可能烧了，电机烧坏一般电调没事，换一个电机即可。但如果是电调有难闻的气味，有可能是电调烧坏。导致电调、电机烧坏的原因一般就是电机堵转，所以在电机使用过程中需要限制电机电流大小，并在程序中加入电机堵转监测（详细见程序中timer的定时任务）。
>
>2.`电机运动出现位置偏差`。
>可能的远因有两个：
>
>（1）没有处理好电机反馈报文，另外，DJ电机采用的编码器类似于增量式编码器，反馈0~8192的数值代表当前电机位置的0~360°，但它不是绝对值编码器，每次上电，即使位置相同，反馈的数值也不同，程序需要在第一次收到位置反馈后处理一下，
>
>（2）电机转速过大导致，这个现象最多出现在2006电极上，程序中会有判断电机是否转过一圈的阈值量，2006最高转速大概在19700r/min左右，当转速达到19500之后，电调反馈时间在0.5ms~1.5ms左右，此时运算差值在3993，因此阈值只能给到3993~8192-3993的位置，经过实验阈值给到4100几乎不会发生位置失效的现象，平常使用2006转速不要超过19500r。
>
>3.`电机线路问题`。
如果电机没有堵转，程序也没问题，但就是转的不正常，就需要检查一下接线了。3508有两条线：can线，7pin数据线。数据线连接电机和电调，这几条线都不要受力，否则会出现簧片从头子里被拉出来的情况。
>
>4.`电调自带can电阻的使用问题。`
电调上的can电阻能不使用就不使用，因为有可能电调开了电阻接到了总线上，但是调试的时候没注意，导致can总线上电阻不正常。

## (二)Maxon无刷电机及elmo的使用

>1.初始电机检测说编码器读数不正常，同时旋转电机尾部编码器有异响。这有可能是编码器光栅受损了，碰到了编码器壳子。所以安装光栅的时候一定要拧紧紧固螺钉，同时要选择合适大小的壳子，给光栅和壳子之间留一点空隙。最后是电机尾部的编码器一定不要受力。
>
>2.Composer显示short。先断电，然后检查线路有没有破皮导致短路，确定没有后换一个elmo顶板。（这个很有可能是顶板的问题）。
>
>3.其他故障。关于elmo的其他故障可以看一下elmo的资料中必看->《注意事项》那个文档，里面有一些elmo可能出现的问题及解决方法。
>
>4.Composer过不了。这个现象我记不太清了，但是问题是有两个左右的EC-4pole电机的霍尔接线是有问题的（一代车的时候线不够长，就给剪了重做，结果硬件组没接好。这个是我的锅。。），用的时候不要选择霍尔，只选择编码器就好（好像已经坏掉了= =）
>
>5.U10电机会出现上电丢失力矩的现象，大致是由于没有霍尔，每次上电后记得检测力矩是否正确后在调试
>
>6.当电源电压低于24v且电机出现明显转速或力矩不正常后马上更换电池，特别是U10电机对电压极其敏感，甚至一个电池接4个U10跟2个会有很大区别 

## (三)VESC的使用问题

>1.注意设置里面电机极对数是否正确
>
>2.检查传感器模式选择是否正确。如果选择编码器模式一定要保证编码器安装正常。
>
>3.如果使用1.16版本的程序和上位机（从淘宝那里买的板子里面刷的应该是1.16版本），不要选择那个UAVCAN，选择的话板子发送的报文格式是另外一种。
>
>4.电流过大会导致板子程序重启。这个是在寒假调一代车的时候出现的，应该是因为电流过大触发了保护，但是一直没机会去找哪里的保护。
>
>5.pid运算的最小erpm改成0，不然重新启动后电机无法正常运转
>
>6.电机三项电源要排序接在本杰明电源上，因为本杰明电流输出是固定的，安装的绝对值编码器正转方向也是确定，如果线序相反，debug显示反馈的速度与位置相反，实际上点击在正转，角度在增加，但是速度反馈却显示负值
>
>7.本杰明可以通过大电流，使用一定要注意安全，很容易爆炸，调试时要经常观察电流大小，如果电流持续很大，立即断电

## (四)EPOS的使用问题

>1.这个就没啥了，驱动器时48v供电，超过安全电压，以后能不用就尽量别用

## (五)布线

> 1.布完线后先检查是否有短路的情况，包括板子内部短路、板子之间短路、板子和车身短路等等。另外需要注意电源线尽量直接从电源板引导对应的板子，不要从一个板子引电源线到另一个板子（尤其是elmo），否则可能出现一烧烧一串的情况。
>
>2.检查can线上电阻是否正常，正常情况下打表电阻应该时60Ω。
>
>3.检查会跟随机构运动的线路是否会被扯到、摩擦到。特别是底盘舵轮，一定要检查线路在旋转过程中是否会被摩擦到，否则调车的过程中线有可能被磨破皮。
>
>4.电源线要和信号线分开布置，不要靠的太近
>
>5.舵轮布线要保证轮子旋转不会搅到线，防止轮子疯转，整个车无法控制